@{
  Layout = "_Layout";
}

<div class="container">
<h1>To Do List</h1>
<hr />
<h2>Items:</h2>
@if (@Model.Count != 0)
{
  <ul>
    @foreach (var item in @Model)
    {
      <li><a href='/items/@item.GetId()'>@item.GetDescription()</a>  <a href="/items/@item.GetId()/update">Edit</a> | <a method="post" href="/items/@item.GetId()/delete">Delete</a> </li>
      <p>Status: @item.GetDone()</p>
      @if(@item.GetDone() == false)
      {
      <form action="/items/done" method="post">
        <input name="doneId" type="hidden" value="@item.GetId()">
        <input name="isDone" type="hidden" value="true">
        <button type="submit">Done</button>
      </form>
      }
      else
      {
      <form action="/items/done" method="post">
        <input name="doneId" type="hidden" value="@item.GetId()">
        <input name="isDone" type="hidden" value="false">
        <button type="submit">Undo</button>
      </form>
      }

    }
  </ul>
}
<h4><a href="/items/new">Add new item</a></h4>
<h4><a href="/categories">Show Categories</a></h4>
<h4><a href="/">Return home</a></h4>
</div>
